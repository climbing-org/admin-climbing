<div class="main">

    <app-page-title activeLinkTitle="Рейтинг спортсменов" title="Рейтинг спортсменов"></app-page-title>
    <div class="container">

        <div class="age">
            <ng-container *ngFor="let a of options?.age">
                <a *ngIf="age !== a.value" (click)="filterAge(a.value)">{{a.name}}</a>
                <span *ngIf="age === a.value">{{a.name}}</span>
                &nbsp;&nbsp;&nbsp;
            </ng-container>
        </div>

        <div class="section-gender">
            <div class="section">
                <ng-container *ngFor="let a of options?.section">
                    <a *ngIf="section !== a.value" (click)="filterSection(a.value)">{{a.name}}</a>
                    <span *ngIf="section === a.value">{{a.name}}</span>
                    &nbsp;
                </ng-container>
            </div>
            <div class="gender">
                <ng-container *ngFor="let a of options?.gender">
                    <a *ngIf="gender !== a.value" (click)="filterGender(a.value)">{{a.name}}</a>
                    <span *ngIf="gender === a.value">{{a.name}}</span>
                    &nbsp;
                </ng-container>
            </div>
        </div>

        <div class="ratings table-responsive">
            <table class="table table-striped table-borderless table-hover">
                <thead>
                <tr>
                    <th scope="col">Ранг</th>
                    <th scope="col">ФИО</th>
                    <th scope="col">Уровень</th>
                    <th scope="col">Балы</th>
                </tr>
                </thead>
                <tbody>
<!--                <tr *ngFor="let item of items | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize">-->
                <tr *ngFor="let u of rating?.users | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize; let index = index">
                    <td class="rang">
                        {{index}}
                    </td>
                    <td>
                        <div class="media">
                            <div class="circular--landscape">
                                <img src="/assets/test/art1.jpg" alt="...">
                                <img [src]="'https://androidios.kz:8000' + u.user.avatar" alt="...">
                            </div>
                            <div class="media-body">
                                    {{u.user.first_name}} <br/>
                                    {{u.user.last_name}}
                            </div>
                        </div>
                    </td>
                    <td class="level">
                        {{u.user.level}}
                    </td>
                    <td class="rank">{{u.point}}</td>
                </tr>
<!--                <tr>-->
<!--                    <td class="rang">-->
<!--                        1-->
<!--                    </td>-->
<!--                    <td>-->
<!--                        <div class="media">-->
<!--                            <div class="circular&#45;&#45;landscape">-->
<!--                                <img src="/assets/test/art1.jpg" class="mr-3" alt="...">-->
<!--                            </div>-->
<!--                            <div class="media-body">-->
<!--                                Алишер <br/>-->
<!--                                Жумахмет-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </td>-->
<!--                    <td class="level">-->
<!--                        Климб-->
<!--                    </td>-->
<!--                    <td class="place">-->
<!--                        <span class="blue">Скала</span>-->
<!--                    </td>-->
<!--                    <td class="level">КМС</td>-->
<!--                    <td class="rank">1050</td>-->
<!--                    <td class="direction"><</td>-->
<!--                </tr>-->

                </tbody>
            </table>

            <ngb-pagination
                class="d-flex justify-content-center"
                [(page)]="page"
                [pageSize]="pageSize"
                [maxSize]="5"
                [rotate]="true"
                [boundaryLinks]="true"
                [collectionSize]="rating?.users?.length"
            ></ngb-pagination>
        </div>
    </div>
</div>
