<div class="row">
    <div class="col-xl-12">
        <h2 class="page-header">
            Страница команды
        </h2>
        <ol class="breadcrumb">
            <li class="breadcrumb-item active">Страница команды</li>
        </ol>
    </div>
</div>
<fieldset class="form-group">
    <label>Заголовок</label>
    <input class="form-control" [ngClass]="{'is-invalid': !team.name && teamError.name}" [(ngModel)]="team.name">
    <div class="invalid-feedback" *ngIf="!team.name">
        Не может быть пустым
    </div>
    <ng-container *ngIf="teamError.name">
        <div class="invalid-feedback" *ngFor="let n of teamError.name">
            {{ n }}
        </div>
    </ng-container>
</fieldset>
<div class="row">
    <div class="col-md-6">
        <fieldset class="form-group">
            <label>Спортсмены</label>
            <br/>
            <ng-multiselect-dropdown
                [placeholder]="''"
                [data]="sportsmen"
                [(ngModel)]="selectedSportsmen"
                [settings]="dropdownSettings"
                (onSelect)="onItemSelect($event)"
                (onSelectAll)="onSelectAll($event)"
            >
            </ng-multiselect-dropdown>
            <ng-container *ngIf="teamError.name">
                <div class="invalid-feedback" *ngFor="let n of teamError.sportsmans">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-6">
        <fieldset class="form-group">
            <label>Тренера</label>
            <br/>
            <ng-multiselect-dropdown
                [placeholder]="''"
                [data]="trainers"
                [(ngModel)]="selectedTrainers"
                [settings]="dropdownSettings"
                (onSelect)="onItemSelect($event)"
                (onSelectAll)="onSelectAll($event)"
            >
            </ng-multiselect-dropdown>
            <ng-container *ngIf="teamError.name">
                <div class="invalid-feedback" *ngFor="let n of teamError.trainers">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-4">
        <fieldset class="form-group">
            <label>Город</label>
            <input class="form-control" [(ngModel)]="team.city">
            <ng-container *ngIf="teamError.city">
                <div class="invalid-feedback" *ngFor="let n of teamError.city">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-8">
        <fieldset class="form-group">
            <label>Адрес</label>
            <input class="form-control" [(ngModel)]="team.address">
            <ng-container *ngIf="teamError.address">
                <div class="invalid-feedback" *ngFor="let n of teamError.address">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>Широта</label>
            <input class="form-control" [(ngModel)]="team.lat">
            <ng-container *ngIf="teamError.lat">
                <div class="invalid-feedback" *ngFor="let n of teamError.lat">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>Долгота</label>
            <input class="form-control" [(ngModel)]="team.lon">
            <ng-container *ngIf="teamError.lon">
                <div class="invalid-feedback" *ngFor="let n of teamError.lon">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>График работы</label>
            <input class="form-control" [(ngModel)]="team.working_hours">
            <ng-container *ngIf="teamError.working_hours">
                <div class="invalid-feedback" *ngFor="let n of teamError.working_hours">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>Email</label>
            <input class="form-control" [(ngModel)]="team.email">
            <ng-container *ngIf="teamError.email">
                <div class="invalid-feedback" *ngFor="let n of teamError.email">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>Instagram</label>
            <input class="form-control" [(ngModel)]="team.instagram">
            <ng-container *ngIf="teamError.instagram">
                <div class="invalid-feedback" *ngFor="let n of teamError.instagram">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>Facebook</label>
            <input class="form-control" [(ngModel)]="team.facebook">
            <ng-container *ngIf="teamError.facebook">
                <div class="invalid-feedback" *ngFor="let n of teamError.facebook">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>Вконтаке</label>
            <input class="form-control" [(ngModel)]="team.vk">
            <ng-container *ngIf="teamError.vk">
                <div class="invalid-feedback" *ngFor="let n of teamError.vk">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>Сайт</label>
            <input class="form-control" [(ngModel)]="team.site">
            <ng-container *ngIf="teamError.site">
                <div class="invalid-feedback" *ngFor="let n of teamError.site">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>SEO хэштег</label>
            <input class="form-control" [(ngModel)]="team.seo_hashtag">
            <ng-container *ngIf="teamError.seo_hashtag">
                <div class="invalid-feedback" *ngFor="let n of teamError.seo_hashtag">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>SEO заголовок</label>
            <input class="form-control" [(ngModel)]="team.seo_title">
            <ng-container *ngIf="teamError.seo_title">
                <div class="invalid-feedback" *ngFor="let n of teamError.seo_title">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>SEO ключевые слова</label>
            <input class="form-control" [(ngModel)]="team.seo_keywords">
            <ng-container *ngIf="teamError.seo_keywords">
                <div class="invalid-feedback" *ngFor="let n of teamError.seo_keywords">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>SEO описание</label>
            <input class="form-control" [(ngModel)]="team.seo_description">
            <ng-container *ngIf="teamError.seo_description">
                <div class="invalid-feedback" *ngFor="let n of teamError.seo_description">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
</div>

<a (click)="inputFile.click()" style="cursor: pointer; color: #007bff; margin-right: 10px;">
    <i class="fa fa-paperclip"></i>
    Изображения команды
</a>
<br>
<div *ngIf="loading" style="width: 50px;height: 50px;">
    <div class="loader">Загрузка...</div>
</div>
<span *ngIf="file">
        <i class="fa green fa-check" style="color: green"></i>
    {{file.name}}
    <!--        <i class="fa fa-remove" style="color: red"></i>-->
  </span>
<input #inputFile type="file" style="display: none">

<img [src]="'https://androidios.kz:8000' + team.logo" class="mr-3" alt="..." style="height:70px">
<br>
<br>

<button type="submit" class="btn btn-secondary" (click)="submit()">Сохранить</button>
