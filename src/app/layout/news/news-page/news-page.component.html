<div class="row">
    <div class="col-xl-12">
        <h2 class="page-header">
            Страница новостей
        </h2>
        <ol class="breadcrumb">
            <li class="breadcrumb-item active">Страница новостей</li>
        </ol>
    </div>
</div>
<fieldset class="form-group">
    <label>Заголовок</label>
    <input class="form-control" [ngClass]="{'is-invalid': !news.name || newsError.name}" [(ngModel)]="news.name">
    <div class="invalid-feedback" *ngIf="!news.name">
        Не может быть пустым
    </div>
    <ng-container *ngIf="newsError.name">
        <div class="invalid-feedback" *ngFor="let n of newsError.name">
            {{ n }}
        </div>
    </ng-container>
</fieldset>
<div class="form-group">
    <label for="exampleFormControlTextarea1">Короткое описание</label>
    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"
              [(ngModel)]="news.short_description"></textarea>
    <ng-container *ngIf="newsError.short_description">
        <div class="invalid-feedback" *ngFor="let n of newsError.short_description">
            {{ n }}
        </div>
    </ng-container>
</div>
<fieldset class="form-group">
    <!--    <label>Content</label>-->
<!--    <input class="form-control" [(ngModel)]="staticPage.content">-->
    <editor apiKey="dzvo3quc6hbfakjcuawrspp6ylmuufnpkewhj8c3qm8lmwdv" [(ngModel)]="news.content" [init]="{
          plugins: 'print preview fullpage  searchreplace autolink directionality  visualblocks visualchars fullscreen image link media  codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount   imagetools textpattern help  code   ',
          toolbar: 'formatselect | bold italic strikethrough forecolor backcolor   | link image media  | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent | removeformat | addcomment',
          image_advtab: true,
          content_css: [
            '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
            '//www.tiny.cloud/css/codepen.min.css'
          ],
          language: 'ru',
          language_url : '/assets/i18n/ru.js',
          importcss_append: true,
          height: 400,
          template_cdate_format: '[CDATE: %m/%d/%Y : %H:%M:%S]',
          template_mdate_format: '[MDATE: %m/%d/%Y : %H:%M:%S]',
          image_caption: true,
          spellchecker_dialog: true,
          images_upload_url: 'https://androidios.kz:8000/api/v1/tinymce-upload/',
          images_upload_base_path: 'https://androidios.kz:8000',
          spellchecker_whitelist: ['Ephox', 'Moxiecode'],
          tinycomments_mode: 'embedded',
          content_style: '.mce-annotation { background: #fff0b7; } .tc-active-annotation {background: #ffe168; color: black; }'
}"></editor>
</fieldset>
<ng-container *ngIf="newsError.content">
    <div class="invalid-feedback" *ngFor="let n of newsError.content">
        {{ n }}
    </div>
</ng-container>
<div class="row">
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>SEO хэштег</label>
            <input class="form-control" [(ngModel)]="news.seo_hashtag">
            <ng-container *ngIf="newsError.seo_hashtag">
                <div class="invalid-feedback" *ngFor="let n of newsError.seo_hashtag">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>SEO заголовок</label>
            <input class="form-control" [(ngModel)]="news.seo_title">
            <ng-container *ngIf="newsError.seo_title">
                <div class="invalid-feedback" *ngFor="let n of newsError.seo_title">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>SEO ключевые слова</label>
            <input class="form-control" [(ngModel)]="news.seo_keywords">
            <ng-container *ngIf="newsError.seo_keywords">
                <div class="invalid-feedback" *ngFor="let n of newsError.seo_keywords">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset class="form-group">
            <label>SEO описание</label>
            <input class="form-control" [(ngModel)]="news.seo_description">
            <ng-container *ngIf="newsError.seo_description">
                <div class="invalid-feedback" *ngFor="let n of newsError.seo_description">
                    {{ n }}
                </div>
            </ng-container>
        </fieldset>
    </div>
</div>

<a (click)="inputFile.click()" style="cursor: pointer; color: #007bff; margin-right: 10px;">
    <i class="fa fa-paperclip"></i>
    Прикрепить картинку
</a>
<br>
<div *ngIf="loading" style="width: 50px;height: 50px;">
    <div class="loader">Загрузка...</div>
</div>
<span *ngIf="file">
        <i class="fa green fa-check" style="color: green"></i>
        {{file.name}}
<!--        <i class="fa fa-remove" style="color: red"></i>-->
  </span>
<input #inputFile type="file" style="display: none">

<img [src]="'https://androidios.kz:8000' + news.logo" class="mr-3" alt="..." style="height:70px">
<br>
<br>

<button type="submit" class="btn btn-secondary" (click)="submit()">Сохранить</button>
